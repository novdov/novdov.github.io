<h6 id="2018-04-05">2018. 04. 05</h6>

<h2 id="pos-tagging-품사-태깅">POS Tagging (품사 태깅)</h2>

<ul>
  <li>Stanford Pos Tagger를 다운받고 modelr과 jar파일의 경로를 지정한 뒤, pos_tagger로 불러온다.</li>
  <li>Stanford Pos Tagger Download Link: <a href="https://nlp.stanford.edu/software/tagger.html">Stanford Log-linear Part-Of-Speech Tagger</a></li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">nltk.tag</span> <span class="kn">import</span> <span class="n">StanfordPOSTagger</span>
<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span>

<span class="n">STANFORD_POS_MODEL_PATH</span> <span class="o">=</span> <span class="s">"압축 푼 디렉토리/stanford-postagger-full-2018-02-27/models/english-bidirectional-distsim.tagger"</span>
<span class="n">STANFORD_POS_JAR_PATH</span> <span class="o">=</span> <span class="s">"압축 푼 디렉토리/stanford-postagger-full-2018-02-27/stanford-postagger-3.9.1.jar"</span>

<span class="n">pos_tagger</span> <span class="o">=</span> <span class="n">StanfordPOSTagger</span><span class="p">(</span><span class="n">STANFORD_POS_MODEL_PATH</span><span class="p">,</span> <span class="n">STANFORD_POS_JAR_PATH</span><span class="p">)</span>
</code></pre>
</div>

<ul>
  <li>분석할 text를 불러오고, <code class="highlighter-rouge">word_tokenize</code>로 품사 태깅한다.</li>
  <li>Article Source: <a href="https://www.axios.com/">Zuckerberg: Facebook made a “huge mistake” — but I can fix it</a></li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">text</span> <span class="o">=</span> <span class="s">"""Facebook CEO Mark Zuckerberg acknowledged a range of mistakes on Wednesday, 
including allowing most of its two billion users to have their public profile data scraped by outsiders. 
However, even as he took responsibility, he maintained he was the best person to fix the problems he created."""</span>

<span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="k">print</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">pos_tagger</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">tokens</span><span class="p">))</span>
</code></pre>
</div>

<p>결과는 다음과 같다.</p>

<ul>
  <li>품사 태깅 약어 정보: <a href="https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html">Alphabetical list of part-of-speech tags used in the Penn Treebank Project</a></li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="s">'Facebook'</span><span class="p">,</span> <span class="s">'CEO'</span><span class="p">,</span> <span class="s">'Mark'</span><span class="p">,</span> <span class="s">'Zuckerberg'</span><span class="p">,</span> <span class="s">'acknowledged'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">,</span> <span class="s">'range'</span><span class="p">,</span> <span class="s">'of'</span><span class="p">,</span> <span class="s">'mistakes'</span><span class="p">,</span> <span class="s">'on'</span><span class="p">,</span> <span class="s">'Wednesday'</span><span class="p">,</span> <span class="s">','</span><span class="p">,</span> <span class="s">'including'</span><span class="p">,</span> <span class="s">'allowing'</span><span class="p">,</span> <span class="s">'most'</span><span class="p">,</span> <span class="s">'of'</span><span class="p">,</span> <span class="s">'its'</span><span class="p">,</span> <span class="s">'two'</span><span class="p">,</span> <span class="s">'billion'</span><span class="p">,</span> <span class="s">'users'</span><span class="p">,</span> <span class="s">'to'</span><span class="p">,</span> <span class="s">'have'</span><span class="p">,</span> <span class="s">'their'</span><span class="p">,</span> <span class="s">'public'</span><span class="p">,</span> <span class="s">'profile'</span><span class="p">,</span> <span class="s">'data'</span><span class="p">,</span> <span class="s">'scraped'</span><span class="p">,</span> <span class="s">'by'</span><span class="p">,</span> <span class="s">'outsiders'</span><span class="p">,</span> <span class="s">'.'</span><span class="p">,</span> <span class="s">'However'</span><span class="p">,</span> <span class="s">','</span><span class="p">,</span> <span class="s">'even'</span><span class="p">,</span> <span class="s">'as'</span><span class="p">,</span> <span class="s">'he'</span><span class="p">,</span> <span class="s">'took'</span><span class="p">,</span> <span class="s">'responsibility'</span><span class="p">,</span> <span class="s">','</span><span class="p">,</span> <span class="s">'he'</span><span class="p">,</span> <span class="s">'maintained'</span><span class="p">,</span> <span class="s">'he'</span><span class="p">,</span> <span class="s">'was'</span><span class="p">,</span> <span class="s">'the'</span><span class="p">,</span> <span class="s">'best'</span><span class="p">,</span> <span class="s">'person'</span><span class="p">,</span> <span class="s">'to'</span><span class="p">,</span> <span class="s">'fix'</span><span class="p">,</span> <span class="s">'the'</span><span class="p">,</span> <span class="s">'problems'</span><span class="p">,</span> <span class="s">'he'</span><span class="p">,</span> <span class="s">'created'</span><span class="p">,</span> <span class="s">'.'</span><span class="p">]</span>

<span class="p">[(</span><span class="s">'Facebook'</span><span class="p">,</span> <span class="s">'NNP'</span><span class="p">),</span> <span class="p">(</span><span class="s">'CEO'</span><span class="p">,</span> <span class="s">'NNP'</span><span class="p">),</span> <span class="p">(</span><span class="s">'Mark'</span><span class="p">,</span> <span class="s">'NNP'</span><span class="p">),</span> <span class="p">(</span><span class="s">'Zuckerberg'</span><span class="p">,</span> <span class="s">'NNP'</span><span class="p">),</span> <span class="p">(</span><span class="s">'acknowledged'</span><span class="p">,</span> <span class="s">'VBD'</span><span class="p">),</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'DT'</span><span class="p">),</span> <span class="p">(</span><span class="s">'range'</span><span class="p">,</span> <span class="s">'NN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'of'</span><span class="p">,</span> <span class="s">'IN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'mistakes'</span><span class="p">,</span> <span class="s">'NNS'</span><span class="p">),</span> <span class="p">(</span><span class="s">'on'</span><span class="p">,</span> <span class="s">'IN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'Wednesday'</span><span class="p">,</span> <span class="s">'NNP'</span><span class="p">),</span> <span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">','</span><span class="p">),</span> <span class="p">(</span><span class="s">'including'</span><span class="p">,</span> <span class="s">'VBG'</span><span class="p">),</span> <span class="p">(</span><span class="s">'allowing'</span><span class="p">,</span> <span class="s">'VBG'</span><span class="p">),</span> <span class="p">(</span><span class="s">'most'</span><span class="p">,</span> <span class="s">'JJS'</span><span class="p">),</span> <span class="p">(</span><span class="s">'of'</span><span class="p">,</span> <span class="s">'IN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'its'</span><span class="p">,</span> <span class="s">'PRP$'</span><span class="p">),</span> <span class="p">(</span><span class="s">'two'</span><span class="p">,</span> <span class="s">'CD'</span><span class="p">),</span> <span class="p">(</span><span class="s">'billion'</span><span class="p">,</span> <span class="s">'CD'</span><span class="p">),</span> <span class="p">(</span><span class="s">'users'</span><span class="p">,</span> <span class="s">'NNS'</span><span class="p">),</span> <span class="p">(</span><span class="s">'to'</span><span class="p">,</span> <span class="s">'TO'</span><span class="p">),</span> <span class="p">(</span><span class="s">'have'</span><span class="p">,</span> <span class="s">'VB'</span><span class="p">),</span> <span class="p">(</span><span class="s">'their'</span><span class="p">,</span> <span class="s">'PRP$'</span><span class="p">),</span> <span class="p">(</span><span class="s">'public'</span><span class="p">,</span> <span class="s">'JJ'</span><span class="p">),</span> <span class="p">(</span><span class="s">'profile'</span><span class="p">,</span> <span class="s">'NN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'data'</span><span class="p">,</span> <span class="s">'NNS'</span><span class="p">),</span> <span class="p">(</span><span class="s">'scraped'</span><span class="p">,</span> <span class="s">'VBN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'by'</span><span class="p">,</span> <span class="s">'IN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'outsiders'</span><span class="p">,</span> <span class="s">'NNS'</span><span class="p">),</span> <span class="p">(</span><span class="s">'.'</span><span class="p">,</span> <span class="s">'.'</span><span class="p">),</span> <span class="p">(</span><span class="s">'However'</span><span class="p">,</span> <span class="s">'RB'</span><span class="p">),</span> <span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">','</span><span class="p">),</span> <span class="p">(</span><span class="s">'even'</span><span class="p">,</span> <span class="s">'RB'</span><span class="p">),</span> <span class="p">(</span><span class="s">'as'</span><span class="p">,</span> <span class="s">'IN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'he'</span><span class="p">,</span> <span class="s">'PRP'</span><span class="p">),</span> <span class="p">(</span><span class="s">'took'</span><span class="p">,</span> <span class="s">'VBD'</span><span class="p">),</span> <span class="p">(</span><span class="s">'responsibility'</span><span class="p">,</span> <span class="s">'NN'</span><span class="p">),</span> <span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">','</span><span class="p">),</span> <span class="p">(</span><span class="s">'he'</span><span class="p">,</span> <span class="s">'PRP'</span><span class="p">),</span> <span class="p">(</span><span class="s">'maintained'</span><span class="p">,</span> <span class="s">'VBD'</span><span class="p">),</span> <span class="p">(</span><span class="s">'he'</span><span class="p">,</span> <span class="s">'PRP'</span><span class="p">),</span> <span class="p">(</span><span class="s">'was'</span><span class="p">,</span> <span class="s">'VBD'</span><span class="p">),</span> <span class="p">(</span><span class="s">'the'</span><span class="p">,</span> <span class="s">'DT'</span><span class="p">),</span> <span class="p">(</span><span class="s">'best'</span><span class="p">,</span> <span class="s">'JJS'</span><span class="p">),</span> <span class="p">(</span><span class="s">'person'</span><span class="p">,</span> <span class="s">'NN'</span><span class="p">),</span> <span class="p">(</span><span class="s">'to'</span><span class="p">,</span> <span class="s">'TO'</span><span class="p">),</span> <span class="p">(</span><span class="s">'fix'</span><span class="p">,</span> <span class="s">'VB'</span><span class="p">),</span> <span class="p">(</span><span class="s">'the'</span><span class="p">,</span> <span class="s">'DT'</span><span class="p">),</span> <span class="p">(</span><span class="s">'problems'</span><span class="p">,</span> <span class="s">'NNS'</span><span class="p">),</span> <span class="p">(</span><span class="s">'he'</span><span class="p">,</span> <span class="s">'PRP'</span><span class="p">),</span> <span class="p">(</span><span class="s">'created'</span><span class="p">,</span> <span class="s">'VBD'</span><span class="p">),</span> <span class="p">(</span><span class="s">'.'</span><span class="p">,</span> <span class="s">'.'</span><span class="p">)]</span>
</code></pre>
</div>

<ul>
  <li>명사와 동사만 따로 떼어서 봐도 기사의 맥락을 이해할 수 있다.</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">noun_and_verbs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">pos_tagger</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">tokens</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">token</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">"V"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">token</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">"N"</span><span class="p">):</span>
        <span class="n">noun_and_verbs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">noun_and_verbs</span><span class="p">))</span>
</code></pre>
</div>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">Facebook</span><span class="p">,</span> <span class="n">CEO</span><span class="p">,</span> <span class="n">Mark</span><span class="p">,</span> <span class="n">Zuckerberg</span><span class="p">,</span> <span class="n">acknowledged</span><span class="p">,</span> <span class="nb">range</span><span class="p">,</span> <span class="n">mistakes</span><span class="p">,</span> <span class="n">Wednesday</span><span class="p">,</span> <span class="n">including</span><span class="p">,</span> <span class="n">allowing</span><span class="p">,</span> <span class="n">users</span><span class="p">,</span> <span class="n">have</span><span class="p">,</span> <span class="n">profile</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">scraped</span><span class="p">,</span> <span class="n">outsiders</span><span class="p">,</span> <span class="n">took</span><span class="p">,</span> <span class="n">responsibility</span><span class="p">,</span> <span class="n">maintained</span><span class="p">,</span> <span class="n">was</span><span class="p">,</span> <span class="n">person</span><span class="p">,</span> <span class="n">fix</span><span class="p">,</span> <span class="n">problems</span><span class="p">,</span> <span class="n">created</span>
</code></pre>
</div>

